(()=>{"use strict";var L={};class l{constructor({tag:e,className:t,parent:i,neighbor:n,prepend:r}){this.element=document.createElement(e),this.element.className=t,r&&i.prepend(this.element),i&&!r&&i.append(this.element),n&&(this.neighbor=n,this.neighbor.after(this.element))}static getFirstClassName(e){return e.split(" ")[0]}static getRandomNumber(e,t){return Math.floor(e+Math.random()*(t+1-e))}}class g extends l{constructor(e){super({tag:"section",...e}),this.element.id=e.className}}class a extends l{constructor(e){super(e),this.element.innerHTML=e.text}}class c extends l{constructor(e){super({tag:"img",...e}),this.element.src=e.src,e.alt?this.element.alt=e.alt:this.element.alt=c.getBaseName(e.src)}static getBaseName(e){return e.split("/").slice(-1)[0].split(".")[0]}}class d extends l{constructor({className:e,parent:t,text:i,src:n,alt:r,svg:o}){super({tag:"button",className:e,parent:t}),i&&(this.element.textContent=i),n&&(this.image=new c({className:`${l.getFirstClassName(e)}-img`,parent:this.element,src:n,alt:r})),o&&(this.element.innerHTML=`<svg class = "${l.getFirstClassName(e)}-svg"><use xlink:href="assets/svg/sprite.svg#${o}"></use></svg>`)}}class h extends l{constructor(e){super(e),this.parentClass=e.parentClass,this.doubleLeft=new d({className:"our-friends-button left double disabled",parent:this.element,svg:"pets-double-right"}),this.left=new d({className:"our-friends-button left disabled",parent:this.element,svg:"pets-right"}),this.page=new a({tag:"p",className:"our-friends-page",parent:this.element,text:"1"}),this.right=new d({className:"our-friends-button",parent:this.element,svg:"pets-right"}),this.right.element.onclick=this.showNextSlide.bind(this),this.doubleRight=new d({className:"our-friends-button double",parent:this.element,svg:"pets-double-right"}),this.doubleRight.element.onclick=this.showLastSlide.bind(this)}showNextSlide(){const e=this.parentClass.viewport.slides[0].element,t=-103,i=parseInt(e.style.marginLeft,10);this.page.element.textContent=`${Number(this.page.element.textContent)+1}`,Number.isNaN(i)?e.style.marginLeft=`${t}%`:e.style.marginLeft=`${i+t}%`,this.controlButtons()}showLastSlide(){const e=this.parentClass.viewport.slides[0].element,t=-103;this.page.element.textContent=`${this.parentClass.viewport.slides.length}`,e.style.marginLeft=`${t*(this.parentClass.viewport.slides.length-1)}%`,this.controlButtons()}showPreviouseSlide(){const e=this.parentClass.viewport.slides[0].element,t=103,i=parseInt(e.style.marginLeft,10);this.page.element.textContent=`${Number(this.page.element.textContent)-1}`,Number.isNaN(i)?e.style.marginLeft=`${t}%`:e.style.marginLeft=`${i+t}%`,this.controlButtons()}showFirstSlide(){const e=this.parentClass.viewport.slides[0].element;this.page.element.textContent="1",e.style.marginLeft="0",this.controlButtons()}controlButtons(){Number(this.page.element.textContent)===this.parentClass.viewport.slides.length&&(this.right.element.classList.add("disabled"),this.doubleRight.element.classList.add("disabled"),this.right.element.onclick=null,this.doubleRight.element.onclick=null),Number(this.page.element.textContent)!==this.parentClass.viewport.slides.length&&(this.right.element.classList.remove("disabled"),this.doubleRight.element.classList.remove("disabled"),this.right.element.onclick=this.showNextSlide.bind(this),this.doubleRight.element.onclick=this.showLastSlide.bind(this)),Number(this.page.element.textContent)===1&&(this.left.element.classList.add("disabled"),this.doubleLeft.element.classList.add("disabled"),this.left.element.onclick=null,this.doubleLeft.element.onclick=null),Number(this.page.element.textContent)!==1&&(this.left.element.classList.remove("disabled"),this.doubleLeft.element.classList.remove("disabled"),this.left.element.onclick=this.showPreviouseSlide.bind(this),this.doubleLeft.element.onclick=this.showFirstSlide.bind(this))}}class f extends l{constructor(e){super(e),this.files=e.files}}function m(){const s=document.createElement("div");s.style.position="absolute",s.style.left="0",s.style.top="0",s.style.width="10000px",s.style.height="10000px",s.style.overflow="scroll",s.style.opacity="0",document.body.append(s);const e=s.offsetWidth-s.clientWidth;return s.remove(),e}class b extends l{constructor({tag:e,className:t,parent:i,pet:n}){super({tag:e,className:t,parent:i}),this.exitButton=new d({className:"popup-button",parent:this.element}),this.img=new c({className:"popup-image",parent:this.element,src:n.img}),this.about=new l({tag:"div",className:"popup-about",parent:this.element}),this.name=new a({tag:"p",className:"popup-name",parent:this.about.element,text:n.name}),this.type=new a({tag:"p",className:"popup-type",parent:this.about.element,text:`${n.type} - ${n.breed}`}),this.description=new a({tag:"p",className:"popup-description",parent:this.about.element,text:n.description}),this.info=new l({tag:"ul",className:"popup-info",parent:this.about.element}),this.age=new a({tag:"li",className:"popup-item",parent:this.info.element,text:`<b>Age</b>: ${n.age}`}),this.inoculations=new a({tag:"li",className:"popup-item",parent:this.info.element,text:`<b>Inoculations</b>: ${n.inoculations.join(", ")}`}),this.diseases=new a({tag:"li",className:"popup-item",parent:this.info.element,text:`<b>Diseases</b>: ${n.diseases.join(", ")}`}),this.parasites=new a({tag:"li",className:"popup-item",parent:this.info.element,text:`<b>Parasites</b>: ${n.parasites.join(", ")}`}),this.overlay=document.querySelector(".overlay"),this.exitButton.element.addEventListener("click",()=>this.closePopup())}closePopup(){const e=m();this.overlay.classList.remove("active"),document.body.style.overflow="visible",document.body.style.paddingRight="0",this.element.style.paddingLeft=`${e}px`,this.element.addEventListener("transitionend",()=>{this.element.remove()})}}class w extends l{constructor(e){super(e),this.image=new c({className:"our-friends-card-img",parent:this.element,src:e.settings.img}),this.name=new a({tag:"p",className:"our-friends-card-text",parent:this.element,text:`${e.settings.name}`}),this.button=new d({className:"our-friends-card-button",parent:this.element,text:"Learn more"}),this.overlay=document.querySelector(".overlay"),this.element.addEventListener("click",async()=>{await this.createPopup(e.settings);const t=m();this.overlay.classList.add("active"),document.body.style.overflow="hidden",document.body.style.paddingRight=`${t}px`})}async createPopup(e){this.popup=new b({tag:"div",className:"popup",parent:document.body,pet:e})}}class v extends f{constructor(e){super(e),this.getCards()}getCards(){this.cards=[],this.files.forEach(e=>this.cards.push(new w({tag:"div",className:"our-friends-card",parent:this.element,settings:e})))}}class y extends l{}function u(s){const e=s;for(let t=e.length-1;t!==0;t-=1){const i=Math.floor(Math.random()*t);[e[t],e[i]]=[e[i],e[t]]}return e}class p extends y{constructor(e){super(e),this.getCardsPerSlide(),this.getFiles(e.files),this.getSlides()}getFiles(e){const t=u(e);let i=[];for(let n=0;n<6;n+=1)i=i.concat(u(t));this.files=i}getSlides(){const e=[];for(let t=0;t<this.files.length;t+=this.cardsPerSlide){const i=this.files.slice(t,t+this.cardsPerSlide);e.push(new v({tag:"div",className:"our-friends-slide",parent:this.element,files:i}))}this.slides=e}getCardsPerSlide(){window.innerWidth>1200&&(this.cardsPerSlide=8),window.innerWidth<=1200&&window.innerWidth>630&&(this.cardsPerSlide=6),window.innerWidth<=630&&(this.cardsPerSlide=3)}}class N extends g{constructor(e){super({tag:"section",...e}),this.container=new l({tag:"div",className:"our-friends-container container",parent:this.element}),this.title=new a({tag:"h2",className:"our-friends-title h2",parent:this.container.element,text:"Our friends who <br> are looking for a house"}),this.viewport=new p({tag:"div",className:"our-friends-viewport",parent:this.container.element,files:e.files}),this.buttons=new h({tag:"div",className:"our-friends-buttons",parent:this.container.element,parentClass:this}),window.addEventListener("resize",()=>{window.innerWidth>1200&&this.viewport.cardsPerSlide!==8&&this.genereteSlider(e.files),window.innerWidth<=1200&&window.innerWidth>630&&this.viewport.cardsPerSlide!==6&&this.genereteSlider(e.files),window.innerWidth<=630&&this.viewport.cardsPerSlide!==3&&this.genereteSlider(e.files)})}genereteSlider(e){this.viewport.element.remove(),this.viewport=new p({tag:"div",className:"our-friends-viewport",neighbor:this.title.element,files:e}),this.buttons.element.remove(),this.buttons=new h({tag:"div",className:"our-friends-buttons",parent:this.container.element,parentClass:this})}}function x(){const s=new l({tag:"div",className:"overlay",parent:document.body}),e=document.querySelector(".header-burger"),t=document.querySelector(".header-nav"),i=document.querySelectorAll(".header-link");function n(){e.classList.contains("active")?(s.element.style.backgroundColor="rgba(0, 0, 0, 0.5)",s.element.style.visibility="visible"):(s.element.style.backgroundColor="transparent",s.element.style.visibility="hidden")}function r(){e.classList.toggle("active"),n()}e.addEventListener("click",r),i.forEach(o=>o.addEventListener("click",r)),document.addEventListener("click",o=>{e.classList.contains("active")&&(o.composedPath().includes(t)||o.composedPath().includes(e)||r())})}async function C(){const e=await(await fetch("./json/pets.json")).json();new N({className:"our-friends",parent:document.querySelector(".main"),files:e})}x(),C()})();

//# sourceMappingURL=pets.bundle.js.map